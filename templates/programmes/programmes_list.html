{% extends 'homepage/base.html' %}
{% load static %}
{% load humanize %}
{% block title %}
    Upcoming Programmes
{% endblock %}
{% block active %}
<li class="nav-item">
    <a class="nav-link" href="{% url 'homepage:homepage' %}" aria-current="page">Home</a>
</li>
<li class="nav-item">
    <a class="nav-link" href="{% url 'homepage:about' %}">About</a>
</li>
<li class="nav-item">
    <a class="nav-link" href="{% url 'homepage:contact' %}">Contact</a>
</li>
{% endblock %}
{% block content %}
    <!-- {% if programmes %}
        {% for programme in programmes %}
            
            <section class="programme mh-100 pb-5" style="background-image: url({{programme.image.url}});">
                <div class="container d-flex flex-column align-items-baseline mt-5 position-relative">
                    <div class="">
                        <h1 class="h1 prog-heading text-sm-center animate__animated animate__fadeInDown" 
                            style="font-family: Alegreya Sans SC, sans-serif;">{{ programme.name }}
                        </h1>
                    </div>
                    <div class="d-flex mt-5 flex-column flex-md-row justify-content-between">
                        <div class="animate__animated animate__fadeInLeft">
                            <img src="../../../static/images/icon _calendar_.svg" alt="" height="" width=""> -->
                            <!-- <i class="bi bi-phone" style="font-size: 4rem; color: white"></i> -->
                        <!-- </div>
                        <div class="ms-5">
                            <h4 class="mt-4" style="font-family: Akaya Kanadaka, script; color: burlywood;">{{ programme.datetime|date:"jS F, Y"}}</h4>
                        </div>
                    </div>
                    <div class="d-flex mt-5 flex-column flex-sm-row justify-content-between">
                        <div class="animate__animated animate__fadeInLeft">
                            <img src="../../../static/images/ icon _alarm_.svg" alt="" height="" width=""> -->
                            <!-- <i class="bi bi-phone" style="font-size: 4rem; color: white"></i> -->
                        <!-- </div>
                        <div class="ms-5">
                            <h4 class="mt-4" style="font-family: Akaya Kanadaka, script; color: burlywood">{{ programme.datetime.time|time:"h:i a" }}</h4>
                        </div>
                    </div>
                    <div class="d-flex mt-5 flex-column flex-sm-row justify-content-between">
                        <div class="animate__animated animate__fadeInLeft">
                            <img src="../../../static/images/ icon _pin alt_.svg" alt="" height="" width=""> -->
                            <!-- <i class="bi bi-phone" style="font-size: 4rem; color: white"></i> -->
                        <!-- </div>
                        <div class="ms-5">
                            <h4 class="mt-4" style="font-family: Akaya Kanadaka, script; color: burlywood">{{ programme.venue }}</h4>
                        </div>
                    </div>
                    {% if programme.guests.all %}
                            <div class=" mt-5">
                                <div class="">
                                    <h2 class="mt-4" style="font-family: Akaya Kanadaka, script; color: white;">{% if programme.guests.count > 1%}Guests{% else %}Guest{% endif %}</h2>
                                </div>
                            </div>
                            <div class="row row-cols-1 row-cols-md-3 mt-2 gx-5 gap-sm-5 pb-5 w-100">
                        {% for guest in programme.guests.all %}
                                <div class="col">
                                    <img class="img-fluid rounded-circle guest-img" src="{{ guest.picture.url }}" height="150rem" width="150rem">
                                    <p class="pt-2" style="color: white;">{{ guest.name }}</p>
                                </div>
                                {% endfor %}
                            </div>
                    {% endif %}
                </div>
            </section>
        {% endfor %}
    {% else %}
        
    {% endif %} -->

    {% if programmes %}
        
        {% for programme in programmes %}
            
            <section class="bg-no-repeat bg-center mb-16" style="background: url({{ programme.image.url }}); background-size: cover">
                <div class="backdrop-brightness-[0.2]">
                    <div class="container w-11/12 sm:w-9/12 mx-auto py-16 backdrop-brightness-50">
                        <h1 class="text-center pb-16 text-4xl sm:text-6xl font-bold text-white transform uppercase animate__animated animate__fadeInDown">{{ programme.name }}</h1>
        
                        <div class="w-9/12 mdpl:w-7/12 mx-auto">
                            <div class="flex flex-col sm:flex-row items-center mb-12">
                                <img src="{% static 'images/icon _calendar_.svg' %}" alt="{{ programme.name }}" class=" animate__animated animate__fadeInLeft">
                                <h3 class="mt-10 sm:mt-0 ml-0 sm:ml-8 text-[#DAC187] font-bold text-2xl">{{ programme.datetime.date | date:"jS F, Y"}}</h3>
                            </div>
                            <div class="flex flex-col sm:flex-row items-center mb-12">
                                <img src="{% static 'images/ icon _alarm_.svg' %}" alt="" class=" animate__animated animate__fadeInLeft">
                                <h3 class="mt-10 sm:mt-0 ml-0 sm:ml-8 text-[#DAC187] font-bold text-2xl">{{ programme.datetime.time }}</h3>
                            </div>
                            <div class="flex flex-col sm:flex-row items-center mb-16">
                                <img src="{% static 'images/ icon _pin alt_.svg' %}" alt="" class=" animate__animated animate__fadeInLeft">
                                <h3 class="mt-10 sm:mt-0 ml-0 sm:ml-8 text-[#DAC187] font-bold text-2xl">{{ programme.venue }}</h3>
                            </div>
                            {% if programme.guests.all %}
                                <h4 class="text-white text-2xl font-bold mb-4">Guests</h4>
                            {% endif %}
                        </div>
                            {% if programme.guests.all %}
                            <div class="grid grid-cols-1 sm:grid-cols-2 mdpl:grid-cols-3 gap-4 w-7/12 mx-auto">
                                {% for guest in programme.guests.all %}    
                                        <div class="flex flex-col items-center">
                                            <img src="{{ guest.picture.url }}" alt="{{ guest.image.url }}" class="w-[90px] h-[90px] rounded-full">
                                            <small class="text-white text-lg">{{ guest.name }}</small>
                                        </div>
                                        
                                        {% endfor %}
                                    </div>
                            {% endif %}
                    </div>
                </div>
            </section>
        {% endfor %}
    {% else %}
            <p class="text-red-800 text-sm py-[5rem] text-center">There are no upcoming programmes</p>
    {% endif %}

{% endblock %}